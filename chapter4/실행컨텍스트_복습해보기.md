# 실행 컨텍스트

## 실행 컨텍스트란?

자바스크립트 코드가 실행되기 위해 필효한 환경들을 담고있는 객체를 말한다.

## 실행 컨텍스트가 실행되는 조건
- module을 사용했을 경우
- 함수를 호출했을 경우
- 전역 컨텍스트를 생성하는 경우
- eval을 사용하는 경우

## 실행 컨텍스트의 구성요소
- variable environment
- lexical environment
- thisBind

## variable environment란
렉시컬 환경에 대한 스냅샷을 남겨놓은 환경 프로퍼티이다.

## lexical environment의 구성요소
- environment record
- outer lexical environment reference

## environment record란
- 함수의 식별자, 매개변수 함수 그자체의 정보를 담고있는 환경값이다.
- 환경 레코드는 두가지 과정을 거치는데
  - 생성 과정
  - 실행 과정
  이 두가지를 거친다.
  생성 과정에서 각 식별자들을 기록해둔다. 이 기록은 콜스택에 담기게 되고, 각 기록들은 어떠한 값도 없는 상태이다.
  그러나, var로 선언된 변수에 한에서는 undefined로 초기화를 시켜주고, 함수 선언문으로 작성된 함수는 f{}로 초기화를 해둔다.
  이로인해 실행과정을 거칠때 var, 함수선언문이 아닌 다른값들 같은 경우, 변수의 선언이전에 먼저 변수를 호출할 경우, 초기값 에러를 뱉게되지만,
  var는 undefined가, 함수 선언문으로 작성된 함수는 f{}가 나온다.

## outer lexical environment reference란
외부 렉시컬 환경 참조란 말 그대로, 해당 외부 렉시컬 환경 참조를 가지는 실행 컨텍스트가 생성되도록 함수를 호출한 외부 실행 컨텍스트의 렉시컬 환경을 참조하는 값이다. 
이로인해 우리가 익히 알고있는 스코프 체이닝이 가능해지게 되며, 동시에 블럭의 형성으로 왜 대체 블럭에 포함되지않은 다른 블럭의 변수를 참조할 수 없는지 또한 알수있어진다.